@use "./components/CalculationForm.scss";
@use "./components/History.scss";

.calculator {
  display: grid;
  gap: 0.5rem;
  z-index: 1000;
  position: relative;

  max-width: max(20vw, 40rem);

  background: var(--col-tertiary);
  padding: 0.5rem;
  border-radius: 0.5rem;
  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);

  .hidables {
    display: grid;
    grid-template-columns: 1fr 1fr;
    row-gap: 1rem;
    margin: 1rem 0.25rem;

    .history-control {

      .history-div {
        height: 0;
        transition: opacity 0.3s ease-out, height 0.3s ease-in-out;
        cursor: pointer;

        li {
          opacity: 0;
          transition: opacity 0.3s ease-out;
        }
      }

      .show-hide-btn {
        border: none;
        background: none;
        cursor: pointer;
        grid-column: span 2;

        svg {
          color: var(--col-primary);
          width: 2.5ch;
          height: 2.5ch;
          stroke-width: 60;
          transform: rotate(0deg);
          transition: transform 0.3s ease-out;
          filter: drop-shadow(0px 1px 1px hsla(0, 0%, 0%, 0.25));
        }
      }
    }

    &.history-shown .history-div {
      li {
        opacity: 1;
      }

      cursor: default;
      opacity: 1;
      height: 100%;
    }

    &.history-shown .show-hide-btn {
      svg {
        transform: rotate(-180deg);
        transition: transform 0.3s ease-out;
        filter: drop-shadow(0px -1px 1px hsla(0, 0%, 0%, 0.25));
      }
    }

    .keypad {
      display: grid;

      justify-content: center;
      gap: 0.5rem;

      .row {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 0.5rem;

        justify-items: center;

        button {
          display: grid;
          font-family: "Light", monospace;
          font-size: 1.5rem;

          background: var(--col-white, #fff);
          border: 1px solid var(--col-secondary);
          border-radius: 0.5ch;

          width: 3rem;
          aspect-ratio: 1;

          align-items: center;
          justify-content: center;
        }

        &.row3 button:last-child {
          svg {
            width: 2.5ch;
            height: 2.5ch;
          }
        }
      }
    }
  }
}